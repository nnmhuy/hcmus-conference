# My Application

The project is generated by [LoopBack](http://loopback.io).

- backend run at port 3001

# API
- api/presentation/getAllData (for unauthenticated user)
```
output: {session, presentation, sponsor, major, statis}
session: list of session (order startDate)
major: list of major (order majorId)
presentation: dict with key is sessionId and value is list of presentation (order startDate)
sponsor: list of sponsor 
statis: consist of numberOfMajor, numberOfPresentation, numberOfAuthor, numberOfVisitors
```
- CRUD for admins

# dev 
clone file .env.dev to .env
if not have data call api/presentations/initData (POST) (data store in backend/server/init-data)

- login table Account:
```
{"email":"admin@gmail.com",
"password": "adminpassword123"}
```

# production
clone file .env.production to .env

# deploy heroku (for dev)
git push --force heroku `git subtree split --prefix backend HEAD`:master

# run instances on server
pm2 start . -i max -name api --merge-logs
pm2 monit
pm2 logs

# deploy server RELEASE (digital ocean)
(add ssh public key to server)
merge and push code to branch release
sudo chmod +x ./deploy_script
./deploy_script

# adding new ssh public key to server
https://www.digitalocean.com/docs/droplets/how-to/add-ssh-keys/to-existing-droplet/
https://www.digitalocean.com/community/questions/how-to-i-add-a-second-key-to-the-authorized_keys-file

# connect to server
ssh root@http://159.89.200.152/

# config nginx
https://dev.to/zeeshanhshaheen/how-to-deploy-react-js-and-nodejs-app-on-a-single-digitalocean-droplet-using-nginx-1pcl
You might need to use these command:
- Edit nginx config: sudo nano /etc/nginx/sites-available/default
- Test nginx config: sudo nginx -t
- Reload new config: sudo systemctl reload nginx
- Static FE build is at: /var/www/hcmus-conference.cf/html/


# install, run mongo local
https://www.digitalocean.com/community/tutorials/how-to-install-mongodb-on-ubuntu-18-04-source